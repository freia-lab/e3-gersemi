#! Generated by VisualDCT v2.6.1280
#! DBDSTART
#! DBDEND


record(bo, CV) {
  field(ZNAM, "Idle")
  field(ONAM, "cmdClose")
  field(HIGH, "10.0")
  field(FLNK, "OCcmd")
  field(PINI, "YES")
}

record(bo, OV) {
  field(ZNAM, "Idle")
  field(ONAM, "cmdOpen")
  field(HIGH, "10.0")
  field(FLNK, "OCcmd")
  field(PINI, "YES")
}

record(calc, OCcmd) {
  field(INPA, "CV")
  field(INPB, "OV")
  field(INPC, "vopen")
  field(CALC, "(!C)&&B||(C&&A)")
  field(FLNK, "OpenClsCmd")
}

record(calcout, ack1) {
  field(INPA, "OpenClsCmd")
  field(INPB, "OV")
  field(CALC, "A&&B")
  field(SDIS, "OpenClsCmd.OMSL")
  field(DISV, "0")
  field(OOPT, "Transition To Non-zero")
  field(FLNK, "ack2")
  field(PINI, "YES")
  field(OUT, "ackO-x.PROC")
}

record(calcout, ack2) {
  field(INPA, "OpenClsCmd")
  field(INPB, "CV")
  field(CALC, "A&&B")
  field(SDIS, "OpenClsCmd.OMSL")
  field(DISV, "0")
  field(OOPT, "Transition To Non-zero")
  field(PINI, "YES")
  field(OUT, "ackC-x.PROC")
}

record(bo, OpenClsCmd) {
  field(ZNAM, "Idle")
  field(ONAM, "Toggle")
  field(HIGH, "0.5")
  field(DOL, "xOCcmd")
  field(FLNK, "ack1")
  field(PINI, "YES")
}

# Help records to produce the pulsed bo
record(bo, ackO-x) {
  field(DOL, "1")
  field(OMSL, "closed_loop")
  field(OUT, "ackOpen.VAL PP NMS")
}

record(bo, ackC-x) {
  field(DOL, "1")
  field(OMSL, "closed_loop")
  field(OUT, "ackClose.VAL PP NMS")
}

record(bo, ackOpen) {
  field(HIGH, "0.5")
}

record(bo, ackClose) {
  field(HIGH, "0.5")
}

# status from Linde PLC
record(bi, vopen) {
  field(ZNAM, "closed")
  field(ONAM, "open")
  field(PINI, "YES")
}

#! Further lines contain data used by VisualDCT
#! View(0,0,0.8)
#! Record(CV,20,234,0,0,"CV")
#! Field("CV.FLNK",16777215,1,"CV.FLNK")
#! Link("CV.FLNK",OCcmd)
#! Field("CV.VAL",16777215,1,"CV.VAL")
#! Record(OV,20,14,0,0,"OV")
#! Field("OV.FLNK",16777215,1,"OV.FLNK")
#! Link("OV.FLNK",OCcmd)
#! Field("OV.VAL",16777215,1,"OV.VAL")
#! Record(OCcmd,340,94,0,0,"OCcmd")
#! Field("OCcmd.INPA",16777215,0,"OCcmd.INPA")
#! Link("OCcmd.INPA","CV.VAL")
#! Field("OCcmd.INPB",16777215,0,"OCcmd.INPB")
#! Link("OCcmd.INPB","OV.VAL")
#! Field("OCcmd.INPC",16777215,0,"OCcmd.INPC")
#! Link("OCcmd.INPC","vopen.VAL")
#! Field("OCcmd.FLNK",16777215,1,"OCcmd.FLNK")
#! Link("OCcmd.FLNK",OpenClsCmd)
#! Record(ack1,880,338,0,0,"ack1")
#! Field("ack1.INPA",16777215,0,"ack1.INPA")
#! Link("ack1.INPA","OpenClsCmd.VAL")
#! Field("ack1.INPB",16777215,0,"ack1.INPB")
#! Link("ack1.INPB","OV.VAL")
#! Field("ack1.SDIS",16777215,0,"ack1.SDIS")
#! Link("ack1.SDIS","OpenClsCmd.OMSL")
#! Field("ack1.FLNK",16777215,1,"ack1.FLNK")
#! Link("ack1.FLNK",ack2)
#! Field("ack1.OUT",16777215,1,"ack1.OUT")
#! Link("ack1.OUT","ackO-x.PROC")
#! Record(ack2,1140,512,0,0,"ack2")
#! Field("ack2.INPA",16777215,0,"ack2.INPA")
#! Link("ack2.INPA","OpenClsCmd.VAL")
#! Field("ack2.INPB",16777215,0,"ack2.INPB")
#! Link("ack2.INPB","CV.VAL")
#! Field("ack2.SDIS",16777215,0,"ack2.SDIS")
#! Link("ack2.SDIS","OpenClsCmd.OMSL")
#! Field("ack2.OUT",16777215,1,"ack2.OUT")
#! Link("ack2.OUT","ackC-x.PROC")
#! Record(OpenClsCmd,600,220,0,0,"OpenClsCmd")
#! Field("OpenClsCmd.VAL",16777215,1,"OpenClsCmd.VAL")
#! Field("OpenClsCmd.OMSL",16777215,1,"OpenClsCmd.OMSL")
#! Field("OpenClsCmd.DOL",16777215,1,"OpenClsCmd.DOL")
#! Field("OpenClsCmd.FLNK",16777215,1,"OpenClsCmd.FLNK")
#! Link("OpenClsCmd.FLNK",ack1)
#! Record(ackO-x,1160,183,0,0,"ackO-x")
#! Field("ackO-x.PROC",16777215,0,"ackO-x.PROC")
#! Field("ackO-x.OUT",16777215,1,"ackO-x.OUT")
#! Link("ackO-x.OUT","ackOpen.VAL")
#! Record(ackC-x,1400,643,0,0,"ackC-x")
#! Field("ackC-x.PROC",16777215,1,"ackC-x.PROC")
#! Field("ackC-x.OUT",16777215,1,"ackC-x.OUT")
#! Link("ackC-x.OUT","ackClose.VAL")
#! Record(ackOpen,1420,230,0,0,"ackOpen")
#! Field("ackOpen.VAL",16777215,1,"ackOpen.VAL")
#! Record(ackClose,1680,690,0,0,"ackClose")
#! Field("ackClose.VAL",16777215,0,"ackClose.VAL")
#! Record(vopen,0,423,0,0,"vopen")
#! Field("vopen.VAL",16777215,1,"vopen.VAL")
